routes:
  - id: hello-route
    uri: "/hello"
    service_id: "hello-svc"
  - id: health-route
    uri: "/health"
    service_id: "hello-svc"
  - id: hello-gemini-route
    uri: "/hello-gemini"
    service_id: "hello-gemini-svc"
    plugins:
      proxy-rewrite:
        scheme: "https"
        uri: "/v1beta/models/gemini-2.0-flash:generateContent"
        headers:
          Content-Type: "application/json"
          X-goog-api-key: "REPLACE_WITH_YOUR_API_KEY"

services:
  - id: hello-svc
    upstream:
      type: roundrobin
      nodes:
        "mock-ai-service:5001": 1
  - id: hello-gemini-svc
    upstream:
      type: roundrobin
      scheme: https
      nodes:
        "generativelanguage.googleapis.com:443": 1
#END
